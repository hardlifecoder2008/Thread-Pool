cmake_minimum_required(VERSION 3.25)
project(ThreadPoolApp LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

set(CMAKE_UNITY_BUILD ON)
set(CMAKE_UNITY_BUILD_BATCH_SIZE 16)

add_executable(${PROJECT_NAME}
  ThreadPool/src/main.cpp
  ThreadPool/src/ThreadPool.cpp
)

target_include_directories(${PROJECT_NAME} PRIVATE
  ThreadPool/include
)

if(MSVC)
  target_compile_options(${PROJECT_NAME} PRIVATE /MP)
  target_link_options(${PROJECT_NAME} PRIVATE /INCREMENTAL)
endif()